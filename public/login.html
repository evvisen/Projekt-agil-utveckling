<!DOCTYPE html>
<html lang="sv">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>login konto – Vuxenpoäng</title>
  <link rel="stylesheet" href="./css/index.css" />
</head>

<body>

  <main class="page">




    <section class="card" aria-labelledby="signup-title">
      <header class="card_header">

        <div class="top_logo">
          <div class="logo_box">
            <img class="logo_img" src="./css/Group 33565.svg" alt="Vuxenpoäng logo">
            <span class="logo_text">Vuxenpoäng</span>
          </div>
        </div>

        <h1 id="signup-title">Logga in på ditt konto</h1>

        <p class="subtitle">med din registrerade användarnamn</p>


      </header>

      <form id="signupForm" class="form" method="post" action="http://localhost:3000/api/login" novalidate>
        <div class="field">
          <label for="username">Användarnamn</label>
          <input id="username" name="username" type="text" autocomplete="username" placeholder="Ange Användarnamn"
            minlength="3" maxlength="20" required />
        </div>

        <div class="field">
          <label for="password">Lösenord</label>
          <div class="password">
            <input id="password" name="password" type="password" autocomplete="new-password" placeholder="Ange lösenord"
              minlength="8" maxlength="72" required />

            <button type="button" class="password_toggle" id="togglePassword" aria-label="Visa lösenord">
              Visa
            </button>
          </div>
        </div>





        <button class="btn btn-primary" type="submit">Logga in</button>

        <p class="small">
          Har du inte konto?
          <a href="index.html" class="link" id="goToRegister">Skapa konto</a>
        </p>

        <div id="formMessage" class="message" role="status" aria-live="polite"></div>
      </form>
    </section>
  </main>

  <script>
    const toggleBtn = document.getElementById("togglePassword");
    const pwd = document.getElementById("password");

    toggleBtn?.addEventListener("click", () => {
      const isHidden = pwd.type === "password";
      pwd.type = isHidden ? "text" : "password";
      toggleBtn.textContent = isHidden ? "Dölj" : "Visa";
      toggleBtn.setAttribute(
        "aria-label",
        isHidden ? "Dölj lösenord" : "Visa lösenord"
      );
    });
  </script>

  <script type="module" src="./login.js"></script>
</body>

</html>